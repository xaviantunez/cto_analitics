<!DOCTYPE html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!--Javascript-->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.0/xlsx.full.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
         <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <!--css-->
        <style>
        .spannombre { text-align:right; display: inline-block; width: 100px; font-size: 20px; }
        #iniciar-todos, #parar-todos, #guardar-pdf, #guardar-excel, #cambiar-estado,#salir-cambio,#salir-gol, #reiniciar-todos, #add-new-player, #tryCapitan{
            color: white; /* Texto blanco */
            padding: 15px 32px; /* Espaciado */
            text-align: center; /* Centrado */
            text-decoration: none; /* Sin subrayado */
            display: inline-block; /* Estilo en línea */
            font-size: 16px; /* Tamaño de fuente */
            margin: 4px 2px; /* Margen */
            border: none; /* Sin borde */
            border-radius: 5px; /* Bordes redondeados */
            transition: background-color 0.3s; /* Transición suave */
        }
        button#showgrafics{
            padding: 10px;
        }
        #reiniciar-todos, #add-new-player {background-color: #1a1a19;}
        #iniciar-todos, #cambiar-estado{ background-color: #107c41;}
        #parar-todos, #tryCapitan { background-color: #4d55b9;}
        #guardar-pdf {background-color: red;}
        #guardar-excel {background-color: #107c41;}
        span {font-size: 16px;font-weight: bold;}
        body { 
            text-align: center; 
            font-family: Arial, sans-serif; 
            background-color: #f4f4f4; 
            margin: 0; 
            padding: 20px; 
        }
        .cronometro, .noconvocados, #suplentes div, #banquillo{ 
            margin: 10px; 
            padding: 10px; 
            background-color: white; 
            border-radius: 8px; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.1); 
        }
        #banquillo{
            background-color: black; 
            color: white;
        }
        #divjugjugando p{
            max-height: 10px;
        }
        #divjugjugando{
            width: 60%;
            max-height: 200px;
            display: inline-block;
            margin: 0px;
            padding: 1px 0;
            color: white;
            font-weight: bold;
             background-color: grey; 
            border-radius: 8px; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.1); 
        }
        .cronometro {
            color: #4b4040;
         }
        .spannombre { 
            text-align:right; 
            display: inline-block; 
            width: 100px; 
            font-size: 16px; 
        }
        .button { 
            background-color: #007BFF; 
            color: white; 
            border: none; 
            border-radius: 5px; 
            padding: 10px 15px; 
            margin: 5px; 
            transition: background-color 0.3s; 
        }
        .button:hover { 
            background-color: #0056b3; 
        }
        #jugadores-modal, #goleador-modal, #goleador-adv-modal,#adversario-modal, #delete-cookies-modal,#new-player-modal, #capitan-modal{ 
            position: fixed; 
            top: 50%; 
            left: 50%; 
            transform: translate(-50%, -50%); 
            background: white; 
            padding: 40px;
            font-size: 14px; 
            border: 1px solid #ccc; 
            border-radius: 8px; 
            z-index: 1000; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            display: none; 
        }
        #delete-cookies-modal{
            text-align: center;
        }
        select { 
            width: 100%; 
            padding: 10px; 
            margin: 10px 0; 
            border-radius: 5px; 
            border: 1px solid #ccc; 
            min-width: 190px;
        }
        #jugadores-en-juego, #jugadores-fuera-juego { 
            margin-bottom: 20px; 
        }
        #cambiar-jugadores,  #save-gol-adv { 
            background-color: #107c41; /* Verde */
            color: white; /* Texto blanco */
            padding: 10px; /* Espaciado */
            text-align: center; /* Centrado */
            text-decoration: none; /* Sin subrayado */
            display: inline-block; /* Estilo en línea */
            font-size: 16px; /* Tamaño de fuente */
            margin: 4px 2px; /* Margen */       
            border: none; /* Sin borde */
            border-radius: 5px; /* Bordes redondeados */
            transition: background-color 0.3s; /* Transición suave */
        }
              #add-gol-cto, #save-gol,#salir-gol,#salir-gol-adv, #save-capitan, #cancel-capitan{
            background-color: #107c41;
            padding: 10px;
        
            color: white; /* Texto blanco */
            border-radius: 5px; /* Bordes redondeados */
            text-align: center;
            min-width: 90px;
            display: block;
            font-size: 16px;
        }
        #add-gol-adv{
            background-color: #830909;
            padding:10px;
            margin:7px auto;
            color: white; /* Texto blanco */
            border-radius: 5px; /* Bordes redondeados */
            text-align: center;
            min-width: 90px;
            display: block;
        }

        #cambiar-jugadores:hover { 
            background-color: #138496; 
        }        
        #marcador-partido td{
            border-top: 1px solid #a9a1a1;
            padding: 14px;
            width: 160px;
            font-size: 16px;
        }
        #marcador-partido th#id1, th#id2{
            padding: 14px;
            color: #4b4040;
        }
        input#goleador-adversario {
            padding: 13px;
        }
        #spannombreTotal{  
            padding: 10px;
            width: 250px;
            text-align: center;
        }
        span#time0 {
            display: block;
        }
        #tablaMarcador{
            width: 100%;
        }
        .sectionestadistica{
            padding: 15px 0;
            border-top: 1px solid;
            border-color: #a9a1a1;
        }
        .estadisticas{
            display: inline-block;
            border: none;
            padding: 0 5px;
        }
        .numestadisticasleft{   
            display: inline-block;
            text-align: left;
        }
        .numestadisticasright{
            display: inline-block;
            text-align: right;
        }
        .numestadisticas{
             display: inline-block;
        }
        .grupdivestadisticas{
            display: inline-block;
            width: 70%;
        }
        #add-rival, #saveadversario{
            background-color: grey;
            color: white; /* Texto blanco */
            padding: 15px 32px; /* Espaciado */
            text-align: center; /* Centrado */
            text-decoration: none; /* Sin subrayado */
            display: inline-block; /* Estilo en línea */
            font-size: 16px; /* Tamaño de fuente */
            margin: 8px 2px; /* Margen */

            border: none; /* Sin borde */
            border-radius: 5px; /* Bordes redondeados */
            transition: background-color 0.3s; /* Transición suave */
        }
        input#textadversario {
            padding: 8px 5px;
        }
        .increment-right, .increment-left,.sectionestadistica span{
            font-size: 18px;
            font-weight: 100;
        }
        #cronometroTotal{
          background-color: white;
          color: grey;
        }
        .custom-disabled-checked:disabled:checked {
            background-color: blue;  /* Fondo verde claro cuando está marcado */
            border: 1px solid #75b57a;  /* Borde verde */
        }
        #delete-cookies-modal{
            text-align: center;
        }
        button#continuarsesion, button#eliminarsesion {
            padding: 10px;
            color: white;
        }
        button#continuarsesion{
            background-color: #830909;
        }
        button#eliminarsesion {
            background-color: #107c41;
        }
        button.player-button{
            padding: 10px;
            background-color: #1a1a19;
            color: white;
            display: inline-block;
            width: 99px;
        }
        button#save-new-player{
            background-color: #107c41;
        }
        input#text-player {
            margin: 12px;
            padding: 9px;
        }
        .buttondelete{
            margin-left:10px;
        }
		.buttonaccion{
            padding: 0px;
            margin-left:2px;
        }
        #divnewplayer{
            width: 30%;
            display: inline-block;
            vertical-align: top;
            font-size: 15px;
        }
        /*fin estilo div checkbox jugadores*/
       #salir-cambio,#salir-gol,#salir-gol-adv, #cancel-capitan{background-color: #1a1a19;}
    
        </style>
    <!--Fin css-->
    </head>
    <body>
        <div id="divequipos">
            <label for="equipos">Seleccione Equipo</label>
            <select id="equipos">
                <option value="Alevin">Alevin</option>
                <option value="BenjaminA">Benjamin A</option>
                <option value="BenjaminB">Benjamin B</option>
            </select>
        </div>
        <div id="add-rival-div">
            <button id="add-rival">A&nacute;adir rival</button>
        </div>
        <div id="cronometros"></div>
        <div>
            <div id="divjugjugando">

                <p id="jugjug">JUGADORES JUGANDO</p>
                <p id="jugjugando">0</p>  
            </div>
        <!---->
            <div id="divnewplayer">
                <button id="add-new-player">Nuevo jugador</button>
                
            </div>
        </div>
            <div id="new-player-modal">
                <label>Nuevo Jugador</label>
                <input type="text" id="text-player">
                <button class="player-button" id="save-new-player">Guardar</button>
                <button class="player-button" id="close-new-player">Cancelar</button>
            </div>
            <div class="cronometro" id="cronometroTotal">
                <span class="spannombre" id="spannombreTotal">Total minutos</span>
                <span id="time0">0:00</span>
            </div>
            <div class="button-controls">
                <button id="tryCapitan">Escoge capitan</button>
                <button id="iniciar-todos">Empezar tiempo</button>
                <button id="parar-todos">Parar tiempo</button>
            </div>                 
            <div id="banquillo">
                <label>BANQUILLO</label>
            </div>
            <div id="suplentes"></div>
            <div id="adversario-modal" style="display:none;">
                <h4>Adversario</h4>
                <input id="textadversario" type="text">
                <button id="saveadversario">A&nacute;adir</button>
            </div>
            <div id="capitan-modal" style="display: none;">
                <h4>Escoge un capitan</h4>
                <select id="jugadoresSeleccionados" size="1"></select>
                <div style="display:inline-block;">
                    <button id="save-capitan">Guardar</button>
                    <button id="cancel-capitan">Cerrar</button>        
                </div>
            </div>
            <div id="jugadores-modal" style="display:none;">
                <h4>Sale del campo</h4>
                <select id="jugadores-en-juego" size="1"></select>
                <h4>Entra al campo</h4>
                <select id="jugadores-fuera-juego" size="1"></select>    
                <button id="cambiar-estado">Cambio</button>
                <button id="salir-cambio">Cerrar</button>
            </div>
            <div id="goleador-modal" style="display:none;">
                <h4>Goleador</h4>
                <select id="goleador-en-juego" size="1"></select>
                <h4>Asistencia</h4>
                <select id="asistencia-en-juego" size="1"></select>
                <button id="save-gol" style="display: inline-block; ">A&nacute;adir Gol</button>
                <button id="salir-gol" style="display: inline-block; ">Cerrar</button>
            </div>
            <!--opcion para añadir goleador adversario-->
            <div id="goleador-adv-modal" style="display:none;">
                <button id="save-gol-adv">A&nacute;adir Gol</button>
                <button id="salir-gol-adv" style="display: inline-block; ">Cerrar</button>
            </div>
            <div id="marcador-partido">
                <table id="tablaMarcador">
                    <tr>
                        <th id="id1"><span>CTO</span><button id="add-gol-cto">+ Gol</button></th>
                        <th id="id2"><span>Adversario</span><button id="add-gol-adv">+ Gol</button></th>
                    </tr>
                    <tr>
                        <td id="resulCto">0</td>
                        <td id="resulAdv">0</td>
                    </tr>
                </table>
            </div>
            <div id="divestadisticas">
                <div class="sectionestadistica">
                    <div class="numestadisticasleft" id="rematesFueraLeft">0</div>
                    <div class="grupdivestadisticas">
                        <div class="estadisticas"><button class="increment-left">+</button></div>
                        <div class="estadisticas"><span id="rematesFuera">Remates Fuera</span></div>
                        <div class="estadisticas"><button class="increment-right">+</button></div>
                    </div>
                    <div class="numestadisticasright" id="rematesFueraRight">0</div>
                </div>
                <div class="sectionestadistica">
                    <div class="numestadisticasleft" id="rematesPorteriaLeft">0</div>
                    <div class="grupdivestadisticas">
                        <div class="estadisticas"><button class="increment-left">+</button></div>
                        <div class="estadisticas"><span span id="rematesPorteria">Remates Dentro</span></div>
                        <div class="estadisticas"><button class="increment-right">+</button></div>
                    </div>
                    <div class="numestadisticasright" id="rematesPorteriaRight">0</div>
                </div>
                <div class="sectionestadistica">
                    <div class="numestadisticasleft" id="paradasPorteroLeft">0</div>
                    <div class="grupdivestadisticas" >
                        <div class="estadisticas"><button class="increment-left">+</button></div>
                        <div class="estadisticas"><span span id="paradasPortero">Paradas portero</span></div>
                        <div class="estadisticas"><button class="increment-right">+</button></div>
                    </div>
                    <div class="numestadisticasright" id="paradasPorteroRight">0</div>
                </div>
                <div class="sectionestadistica">
                    <div class="numestadisticasleft" id="cornerLeft">0</div>
                    <div class="grupdivestadisticas">
                        <div class="estadisticas"><button class="increment-left">+</button></div>
                        <div class="estadisticas"><span span id="cornersFavor">Corners</span></div>
                        <div class="estadisticas"><button class="increment-right">+</button></div>
                    </div>
                    <div class="numestadisticasright" id="cornerRight">0</div>
                </div>
                <div class="sectionestadistica">
                    <div class="numestadisticasleft" id="outsideLeft">0</div>
                    <div class="grupdivestadisticas">
                        <div class="estadisticas"><button class="increment-left">+</button></div>
                        <div class="estadisticas"><span span id="fuerasJuego">Fueras de juego</span></div>
                        <div class="estadisticas"><button class="increment-right">+</button></div>
                    </div>
                    <div class="numestadisticasright" id="outsideRight">0</div>
                </div>
                <div class="sectionestadistica">
                    <div class="numestadisticasleft" id="faltasLeft">0</div>
                    <div class="grupdivestadisticas">
                        <div class="estadisticas"><button class="increment-left">+</button></div>
                        <div class="estadisticas"><span span id="faltasCometidas">Faltas cometidas</span></div>
                        <div class="estadisticas"><button class="increment-right">+</button></div>
                    </div>
                    <div class="numestadisticasright" id="faltasRight">0</div>
                </div>
            </div>
            <div id="button-guardar-excel">
                <button id="guardar-excel">Guardar Excel</button>
            </div>
            <div id="button-reiniciar-todos">
                <button id="reiniciar-todos">Reiniciar cronometros</button>
            </div>
            <div id="delete-cookies-modal" style="display:none;">
                <h4>ELIMINAR SESION</h4>
                <button id="eliminarsesion">Si</button>
                <button id="continuarsesion">No</button>
            </div>
            <div id="divgraficos">
                <button id="showgrafics">Mostrar Graficos</button> 
            </div>
            <canvas id="myBarChart" width="400" height="400"></canvas>
<script type="text/javascript">
$(document).ready(function() {
    var myBarChart;
    var first=true;
    var adversario="Adversario";
    var iniciado=false;
    var totaljugadoresencampo=0;
    var totalTiempo;
    var iniTiempo=0;
    var arraycheckeados=[];
    var checkeadosrecuperados=[];
    var intervalos = {}; // Almacenará los intervalos individuales de cada cronómetro
    var tiempos = {}; // Almacenará el tiempo acumulado de cada cronómetro
    var nombresCronometros=[];
    var equipoElegido;
    var pdfParte='Primera Parte ';
    var tiempopartido=1;
    var capitan="";
    var equipotitular=[];

    var benjaminA = [
        'Andreu', 'Arnau', 'Brais', 'Carlos',
        'Guillem', 'Hugo', 'Ivor', 'Leo',
        'Manel', 'Marc', 'Mateo', 'Miguel',
        'Victor','Pablo'
    ];
    const benjaminB = [
        'Aleix', 'Alexis', 'Arnau', 'Carles', 'Dario',
        'Gabriel', 'Hector', 'Joan','Jordi','Júlia',
        'Maia', 'Marc','Oscar', 'Pablo'];
    var alevin = [
        'DaniL', 'DaniO','Cristian','Ferran', 'Leo',
        'MarcG', 'MarcC', 'Maxim', 'Quim',
        'Rodrigo', 'Ruben', 'Xavi'
    ];
   
    var arrayestadisticas=["rematesFuera","rematesPorteria","paradasPortero","cornersFavor","fuerasJuego","faltasCometidas"];
    // Intentamos cargar los datos de tiempos desde localStorage si existen
    if (localStorage.getItem('tiempos')) {
        //esconder el select de e3quipos
        $('#divequipos').hide();
        $('#add-rival-div').hide();
        //-----------------------
        tiempos = JSON.parse(localStorage.getItem('tiempos'));
        iniTiempo = JSON.parse(localStorage.getItem('tiempototal'));
        adversario = JSON.parse(localStorage.getItem('adversario'));
        capitan = JSON.parse(localStorage.getItem('capitan'))
        equipotitular=JSON.parse(localStorage.getItem('equipotitular'));

        var nombresCronometrosTemp =JSON.parse(localStorage.getItem('nombresCronometros'));
        if(nombresCronometrosTemp){
            nombresCronometros=nombresCronometrosTemp;
        }
        if(!adversario){
            $('#id2 span').text("Adversario");
        }else{
            $('#id2 span').text(adversario);
        }
        var resulAdv = JSON.parse(localStorage.getItem('resulAdv'));
        var resulCto = JSON.parse(localStorage.getItem('resulCto'));
        //------------------------------------------------------------------
        cargarestadistica("left");
        cargarestadistica("right");
        //------------------------------------------------------------------
        $('#resulAdv').text(resulAdv);
        $('#resulCto').text(resulCto);
    }else{
        if(!equipoElegido){
            console.log("No hay equipo elegido");
            nombresCronometros=alevin ;
            //hay que poner el selected al option

        }
    }
    mostrarplantilla(); // Muestra la plantilla inicial con todos los cronómetros
    // Iniciar todos los cronómetros si están marcados
    $('#iniciar-todos').click(function() {
        if(totaljugadoresencampo<8){
            alert('SOLO TIENES '+totaljugadoresencampo+" JUGADORES SELECCIONADOS\n\nPOR FAVOR REVISALO");
            return
        }
        if(!iniciado){
            iniciartotaltiempo();
            iniciado=true;
            $('#divequipos').hide();
            $('#divnewplayer').hide();
            $('.checkboxplayers').prop('disabled', true);
            $('.buttondelete').hide();
            localStorage.setItem('equipotitular',JSON.stringify(equipotitular));
            localStorage.setItem('resulAdv', JSON.stringify(0));    
            localStorage.setItem('resulCto', JSON.stringify(0));   
            localStorage.setItem('nombresCronometros', JSON.stringify(nombresCronometros));   

        }
        $('#suplentes').empty();
        for (var i = 0; i < nombresCronometros.length; i++) {
            var jugador = nombresCronometros[i];
            if ($("#check" + jugador).is(':checked')) {
                iniciarCronometro(jugador);
                $("#FH"+jugador).show();
                $("#FR"+jugador).show();
                $("#RD"+jugador).show();
                $("#RF"+jugador).show();
                $("#AS"+jugador).show();
                $("#GO"+jugador).show();
                $("#PA"+jugador).show();
            }else{
                $('#suplentes').append($('<div class="reservas">').text(jugador));
                $("#FH"+jugador).hide();
                $("#FR"+jugador).hide();
                $("#RD"+jugador).hide();
                $("#RF"+jugador).hide();
                $("#AS"+jugador).hide();
                $("#GO"+jugador).hide();
                $("#PA"+jugador).hide();
            }
        }
    
    });


    function cargarestadistica(columna) {
        $('#divestadisticas .numestadisticas'+columna).each(function(index, item) {
            var estadistica=JSON.parse(localStorage.getItem(arrayestadisticas[index]+columna));
            if(estadistica){
                $(this).text(estadistica); 
            }else{
                $(this).text(0); 
            }
        });
    }
    function removeestadisticas() {
        arrayestadisticas.forEach(function (estadistica) {
            localStorage.removeItem(estadistica+'left');
            localStorage.removeItem(estadistica+'right');
        });
        $('#divestadisticas .numestadisticasleft').each(function(index, item) {
            $(this).text(0); 
        });
        $('#divestadisticas .numestadisticasright').each(function(index, item) {
            $(this).text(0); 
        });
    }
    function iniciartotaltiempo(){
        totalTiempo = setInterval(function() {
        iniTiempo++;
        const minutosTotales = Math.floor(iniTiempo / 60);
        const segundosTotales = iniTiempo % 60;
        localStorage.setItem('tiempototal', JSON.stringify(iniTiempo));
        $(`#time0`).text(`${minutosTotales}:${segundosTotales < 10 ? '0' : ''}${segundosTotales}`);
            }, 1000);
    }
    // Crear el intervalo para cada cronómetro
    function crearIntervalo(jugador) {
        if (!tiempos[jugador]) {
            tiempos[jugador] = 0;
        }
        if ($("#check" + jugador).is(':checked')) {
            arraycheckeados.push(jugador);
            localStorage.setItem('checkeados', JSON.stringify(arraycheckeados));
            intervalos[jugador] = setInterval(function() {
            tiempos[jugador]++;
            const minutos = Math.floor(tiempos[jugador] / 60);
            const segundos = tiempos[jugador] % 60;
            $("#time" + jugador).text(`${minutos}:${segundos < 10 ? '0' : ''}${segundos}`);
            localStorage.setItem('tiempos', JSON.stringify(tiempos));
            }, 1000); 
        }
    }
    // Función para iniciar el cronómetro de un jugador
    function iniciarCronometro(jugador) {
        if (!intervalos[jugador]) { // Solo inicia el cronómetro si no está corriendo
            crearIntervalo(jugador);
        }
    }
    function pararIntervalos() {
        for (var jugador in intervalos) {
            clearInterval(intervalos[jugador]);
            delete intervalos[jugador];
        }
        localStorage.setItem('tiempos', JSON.stringify(tiempos));
    }
    function reiniciarIntervalos() {
        //addeventchange();
        $('#divequipos').show();
        $('#add-rival-div').show();
        $('#divnewplayer').show();

        $("#time0").text("0:00");
        clearInterval(totalTiempo);   
        iniTiempo=0; 
        pdfParte="Primera Parte "
        pararIntervalos();
        //console.log("reiniciarIntervalos ");
        localStorage.removeItem('checkeados');
        localStorage.removeItem('tiempos');
        localStorage.removeItem('tiempototal');
        localStorage.removeItem('adversario');
        localStorage.removeItem('resulCto');
        localStorage.removeItem('resulAdv');
        localStorage.removeItem('capitan');
        for (var i = 0; i < nombresCronometros.length; i++) {
            //console.log("array  "+nombresCronometros[i]);
            var jugador=nombresCronometros[i];
            $("#time" + jugador).text("0:00");
            tiempos[jugador]=0;
        }
        removeestadisticas();
        totaljugadoresencampo=0;
        $('#jugjugando').text(totaljugadoresencampo);
        $('#id2 span').text("Adversario");
        $('#resulAdv').text(0);
        $('#resulCto').text(0);
        $('#suplentes').empty();
        $('#tablaMarcador tr').not(':eq(0), :eq(1)').remove();
        $(".checkboxplayers").prop('checked', false);
        $("#cronometros").empty();
        //localStorage.removeItem('nombresCronometros');

        mostrarplantilla();
    }
    function cambiarJugador(val){

        $('#jugadores-en-juego').empty();
        $('#jugadores-fuera-juego').empty();
        //$('#suplentes').empty();
        for (var i = 0; i < nombresCronometros.length; i++) {
            var jugador = nombresCronometros[i];
            var option = `<option value="${jugador}">${jugador}</option>`;
            if (val==jugador) option = `<option value="${jugador}" selected>${jugador}</option>`;
            if ($("#check" + jugador).is(':checked')) {
                $('#jugadores-en-juego').append(option);
            }else{
                $('#jugadores-fuera-juego').append(option);
            }
        }
        $('#jugadores-modal').show();
    }
    function mostrarplantilla() {
        for (var i = 0; i < nombresCronometros.length; i++) {
            add_fila_player(nombresCronometros,i);
        }
        $('.buttonaccion').hide();
        checkeadosrecuperados = JSON.parse(localStorage.getItem('checkeados'));
        if(checkeadosrecuperados){
            checkeadosrecuperados = JSON.parse(localStorage.getItem('checkeados'));
            checkeadosrecuperados.forEach(function (nombre) {
                $("#check"+nombre).prop("checked", true);
                    totaljugadoresencampo++;  
            });
            $('#jugjugando').text(totaljugadoresencampo);
        }
    }
    $(document).on('click',".buttondelete", function() {
    //$(".buttondelete").click(function(){
        //console.log($(this).attr("id"));
        var id=$(this).attr("id");
        var nombre=id.substring(12,id.length)
        console.log(nombre);
        var positiontodelete=nombresCronometros.indexOf(nombre);
        nombresCronometros.splice(positiontodelete,1);
        if ($("#check" + nombre).is(':checked')) {
            totaljugadoresencampo--;
            $('#jugjugando').text(totaljugadoresencampo);
        }
        $("#"+nombre).remove();
    });
    function updateVarLocalStorage(storage,iddiv=''){
        if(iddiv=="")iddiv=storage;
        var div=$("#"+iddiv);
        alert(iddiv);
        var valor = parseInt(div.text())+1;
        div.text(valor);
        localStorage.setItem(storage, valor);
    }
	$(document).on('click',".buttonaccion", function() {
    //$(".buttondelete").click(function(){
        //console.log($(this).attr("id"));
        var id=$(this).attr("id");
        var nombre=id.substring(2,id.length)
        var accion=id.substring(0,2)
        //Recoger minuto del partido
        const minutosTotales = Math.floor(iniTiempo / 60);
        if(accion=="AS"){
            var nuevaFila = "<tr><td>asistencia:"+nombre+" min "+minutosTotales+"</td><td></td></tr>";
        }
        if(accion=="GO"){
            updateVarLocalStorage('resulCto');
            var nuevaFila = "<tr><td>Gol: "+nombre+" min "+minutosTotales+"</td><td></td></tr>";
        }
        if(accion=="FH"){
            var nuevaFila = "<tr><td>Hace Falta: "+nombre+" min "+minutosTotales+"</td><td></td></tr>";
            updateVarLocalStorage('faltasCometidasright','faltasRight');
        }
        if(accion=="FR"){
            var nuevaFila = "<tr><td>Recibe Falta: "+nombre+" min "+minutosTotales+"</td><td></td></tr>";
            updateVarLocalStorage('faltasCometidasleft','faltasLeft');
        }
        if(accion=="RD"){
            var nuevaFila = "<tr><td>Remate Dentro: "+nombre+" min "+minutosTotales+"</td><td></td></tr>";
            updateVarLocalStorage('rematesPorterialeft','rematesPorteriaLeft');
        }
        if(accion=="RF"){
            var nuevaFila = "<tr><td>Remate Fuera: "+nombre+" min "+minutosTotales+"</td><td></td></tr>";
            updateVarLocalStorage('rematesFueraleft','rematesFueraLeft');
        }
        if(accion=="PA"){
            var nuevaFila = "<tr><td>Parada: "+nombre+" min "+minutosTotales+"</td><td></td></tr>";
            updateVarLocalStorage('paradasPorteroleft','paradasPorteroLeft');
            updateVarLocalStorage('rematesPorteriaright','rematesPorteriaRight');
        }

        $("#tablaMarcador").append(nuevaFila);





        /*console.log(nombre);
        var positiontodelete=nombresCronometros.indexOf(nombre);
        nombresCronometros.splice(positiontodelete,1);
        if ($("#check" + nombre).is(':checked')) {
            totaljugadoresencampo--;
            $('#jugjugando').text(totaljugadoresencampo);
        }
        $("#"+nombre).remove();*/
    });
    function add_fila_player(nombresCronometros,i){
        //console.log(i+" "+nombresCronometros[i]+" desde add_fila_player");
        var midiv = $("<div>");
            midiv.attr("id", nombresCronometros[i]);
            midiv.attr("class", "cronometro");
            var spanjugador = $("<span>");
            var spantiempo = $("<span>");
            var checkbox = $("<input>");
            var buttondelete =$("<button>")
            var buttonF =$("<button>")
			buttonF.text("FH");
			buttonF.attr("class","buttonaccion");
			buttonF.attr("id","FH"+nombresCronometros[i]);
            var buttonFR =$("<button>")
			buttonFR.text("FR");
			buttonFR.attr("class","buttonaccion");
			buttonFR.attr("id","FR"+nombresCronometros[i]);
			var buttonA =$("<button>")
			buttonA.text("AS");
			buttonA.attr("class","buttonaccion");
			buttonA.attr("id","AS"+nombresCronometros[i]);
			var buttonR =$("<button>")
			buttonR.text("RD");
			buttonR.attr("class","buttonaccion");
			buttonR.attr("id","RD"+nombresCronometros[i]);
            var buttonRF =$("<button>")
			buttonRF.text("RF");
			buttonRF.attr("class","buttonaccion");
			buttonRF.attr("id","RF"+nombresCronometros[i]);
			var buttonG =$("<button>")
			buttonG.text("GO");
			buttonG.attr("class","buttonaccion");
			buttonG.attr("id","GO"+nombresCronometros[i]);
            var buttonP =$("<button>")
			buttonP.text("PA");
			buttonP.attr("class","buttonaccion");
			buttonP.attr("id","PA"+nombresCronometros[i]);
			
            checkbox.attr("type", "checkbox");
            checkbox.attr("class", "checkboxplayers");
            checkbox.attr("id", "check" + nombresCronometros[i]);
            //checkbox.attr("onclick", "comprobarcheckbox()");

            buttondelete.attr("id","buttondelete"+nombresCronometros[i]);
            buttondelete.attr("class","buttondelete");
            buttondelete.text("-");
            spanjugador.attr("id", "name" + nombresCronometros[i]);
            spanjugador.text(nombresCronometros[i]);
            spantiempo.attr("id", "time" + nombresCronometros[i]);
            const minutos = Math.floor(tiempos[nombresCronometros[i]] / 60);
            const segundos = tiempos[nombresCronometros[i]] % 60;
            //console.log("segundos "+segundos);
            if (isNaN(segundos)) {
                console.log("entra per isNaN");
                spantiempo.text("0:00");
            }else{
                console.log("entra per el else");
                spantiempo.text(`${minutos}:${segundos < 10 ? '0' : ''}${segundos}`)
            };
                midiv.append(spanjugador);
                midiv.append(checkbox);
                midiv.append(spantiempo);
                midiv.append(buttondelete);
                midiv.append(buttonF);                
                midiv.append(buttonFR);
                midiv.append(buttonR);
                midiv.append(buttonRF);
                midiv.append(buttonA);
				midiv.append(buttonG);
				midiv.append(buttonP);
            $("#cronometros").append(midiv);
    }

    // Evento para el botón de detener todos los cronómetros
    $('#parar-todos').click(function() {
        clearInterval(totalTiempo);
        pararIntervalos(); // Detiene todos los cronómetros
        iniciado=false;
        
        $('.checkboxplayers').prop('disabled', false);
        if(checkeadosrecuperados){
            checkeadosrecuperados.length=0;
        }
        //localStorage.removeItem('checkeados');
        //arraycheckeados.length=0;
    });
    // Evento para el botón de reiniciar todos los cronómetros
    $('#reiniciar-todos').click(function() {

        $('#delete-cookies-modal').show();
    });
    $('#eliminarsesion').click(function() {
        reiniciarIntervalos(); // Detiene y reinicia todos los cronómetros
        $('#delete-cookies-modal').hide();
    });
    $('#continuarsesion').click(function() {
        $('#delete-cookies-modal').hide();
    });
    
    $(document).on('click',".reservas", function() {
        cambiarJugador(this.innerHTML);
    });
    $('#cambiar-jugadores').click(function() {
        $('#jugadores-en-juego').empty();
        $('#jugadores-fuera-juego').empty(); 
        for (var i = 0; i < nombresCronometros.length; i++) {
            var jugador = nombresCronometros[i];
            const option = `<option value="${jugador}">${jugador}</option>`;
            if ($("#check" + jugador).is(':checked')) {
                $('#jugadores-en-juego').append(option);
            }else{
                $('#jugadores-fuera-juego').append(option);
            }
        }
        $('#jugadores-modal').show();
    });
    $('#salir-cambio').click(function() {
        $('#jugadores-modal').hide();
    });
    $('#salir-gol').click(function() {
        $('#goleador-modal').hide();
    });
    $('#salir-gol-adv').click(function() {
        $('#goleador-adv-modal').hide();
    });    
    $('#cambiar-estado').click(function() {
        alert('');
        const jugadorEnJuego = $('#jugadores-en-juego').val();
        const jugadorFueraJuego = $('#jugadores-fuera-juego').val();
        if(jugadorEnJuego){
            clearInterval(intervalos[jugadorEnJuego]);
            delete intervalos[jugadorEnJuego];
            $(`#check${jugadorEnJuego}`).prop('checked', false);
            $("#FH"+jugadorEnJuego).hide();
            $("#FR"+jugadorEnJuego).hide();
            $("#RD"+jugadorEnJuego).hide();
            $("#RF"+jugadorEnJuego).hide();
            $("#AS"+jugadorEnJuego).hide();
            $("#GO"+jugadorEnJuego).hide();
            $("#PA"+jugadorEnJuego).hide();
        }
        if(jugadorFueraJuego){
            $(`#check${jugadorFueraJuego}`).prop('checked', true);
            var recuperados = JSON.parse(localStorage.getItem('checkeados'));
            if(recuperados){
            // Buscar y eliminar el nombre del array
                var index = recuperados.indexOf(jugadorEnJuego);
                var index2 = arraycheckeados.indexOf(jugadorEnJuego)
                if (index !== -1) {
                    // Si el nombre existe en el array, lo eliminamos
                    recuperados.splice(index, 1);
                    arraycheckeados.splice(index2, 1);
                    // Actualizar el array en localStorage
                    localStorage.setItem("checkeados", JSON.stringify(recuperados));
                    $("#FH"+jugadorFueraJuego).show();
                    $("#FR"+jugadorFueraJuego).show();
                    $("#RD"+jugadorFueraJuego).show();
                    $("#RF"+jugadorFueraJuego).show();
                    $("#AS"+jugadorFueraJuego).show();
                    $("#GO"+jugadorFueraJuego).show();
                    $("#PA"+jugadorFueraJuego).show();
                }
            } 
            crearIntervalo(jugadorFueraJuego);
        }
        $('#jugadores-modal').hide();
        $('#suplentes').empty();   
        for (var i = 0; i < nombresCronometros.length; i++) {
            var jugador = nombresCronometros[i];
            if (!$("#check" + jugador).is(':checked')) {
                 $('#suplentes').append($('<div class="reservas">').text(jugador));
            }
        }          
    });
    $('.increment-left').click(function() {
        var leftDiv = $(this).closest('.sectionestadistica').find('.numestadisticasleft');
        var tipoestadistica = $(this).closest('.grupdivestadisticas').find('span');
        //console.log("Estadistica "+tipoestadistica.attr("id")+"left");
        var currentValue = parseInt(leftDiv.text());
        leftDiv.text(currentValue + 1);
        localStorage.setItem(tipoestadistica.attr("id")+"left", JSON.stringify(currentValue + 1));
    });
    $('.increment-right').click(function() {
        var rightDiv = $(this).closest('.sectionestadistica').find('.numestadisticasright');
        var tipoestadistica = $(this).closest('.grupdivestadisticas').find('span');
        //console.log("Estadistica "+tipoestadistica.attr("id")+"left");
        var currentValue = parseInt(rightDiv.text());
        rightDiv.text(currentValue + 1);
        localStorage.setItem(tipoestadistica.attr("id")+"right", JSON.stringify(currentValue + 1));
    });
    //-------------------------------------
    $('#add-gol-cto').click(function() {
        $('#goleador-en-juego').empty();
        $('#asistencia-en-juego').empty();  
        for (var i = 0; i < nombresCronometros.length; i++) {
            var jugador = nombresCronometros[i];
            const option = `<option value="${jugador}">${jugador}</option>`;
            if ($("#check" + jugador).is(':checked')) {
                $('#goleador-en-juego').append(option);
                $('#asistencia-en-juego').append(option);
            }
        }
       $('#goleador-modal').show();
    //------------
    //----------    
    });
    //save gol
     $('#save-gol').click(function() {
        // Cambiar el estado de los jugadores seleccionados
        const goleador = $('#goleador-en-juego option:selected').text();
        const asistente = $('#asistencia-en-juego option:selected').text();
        //recoger el minuto
        //capturar el div del marcador 
        var resulCto=parseInt($("#resulCto").text(), 10);
        resulCto++;
        $("#resulCto").text(resulCto);
        //Recoger minuto del partido  
        const minutosTotales = Math.floor(iniTiempo / 60);
        //crear fila en la tabla 
        var nuevaFila = "<tr><td>"+goleador+" min "+minutosTotales+" asistencia "+asistente+"</td><td></td></tr>";
            // Añadir la nueva fila a la tabla
            $("#tablaMarcador").append(nuevaFila);
        //actualizar en el div el nuevo resultado
        localStorage.setItem('resulCto', JSON.stringify(resulCto));  
        //incrementar el disparo a porteria
        const leftDiv = $('#rematesPorteriaLeft');
        var currentValue = parseInt(leftDiv.text());
        leftDiv.text(currentValue + 1);
        localStorage.setItem("rematesPorterialeft", JSON.stringify(currentValue + 1));

        $('#goleador-modal').hide();    
     });
    //fin de save gol
     //add gol adversario
    $('#add-gol-adv').click(function() {
        //mostrar un campo de numerico y un boton para guardar el numero del goleador
        $('#goleador-adv-modal').show();
    });
    //fin de add gol adversario
    $('#save-gol-adv').click(function() {
        var resulAdv=parseInt($("#resulAdv").text(), 10);
        resulAdv++;
        //recojo el numero del campo de texto
        const minutosTotales = Math.floor(iniTiempo / 60);
        var nuevaFila = "<tr><td></td><td>Min. "+minutosTotales+" </td></tr>";
        // Añadir la nueva fila a la tabla
        $("#tablaMarcador").append(nuevaFila);
        //actualizar en el div el nuevo resultado
        $("#resulAdv").text(resulAdv);
        localStorage.setItem('resulAdv', JSON.stringify(resulAdv));    
        //incrementar remate a porteria del adversario
        const rightDiv = $('#rematesPorteriaRight');
        var currentValue = parseInt(rightDiv.text());
        rightDiv.text(currentValue + 1);
        localStorage.setItem("rematesPorteriaright", JSON.stringify(currentValue + 1));
        $('#goleador-adv-modal').hide(); 
    });
    $('#add-rival').click(function() {
        //mostrar un campo de numerico y un boton para guardar el numero del goleador
        $('#adversario-modal').show();
    });
    $('#saveadversario').click(function() {
        adversario = $('#textadversario').val();
        //console.log(adversario); 
        $('#id2 span').text(adversario);
        $('#textadversario').val("");
        $('#adversario-modal').hide();
        localStorage.setItem('adversario', JSON.stringify(adversario));
    });
    $('#add-new-player').click(function() {
        $('#new-player-modal').show();
    });
    $('#save-new-player').click(function() {
        var new_player=$('#text-player').val();
        //capturar el div cronometros
        var divcrono=$('.cronometros');
        //crear div jugador y añadirlo
        //console.log(new_player);
        nombresCronometros.push(new_player);
        var q_players=nombresCronometros.length;
        //console.log(nombresCronometros+" q_players "+q_players);
        q_players--;
        //console.log(nombresCronometros+" q_players "+q_players);
        add_fila_player(nombresCronometros,q_players);
        $('#'+new_player).on('change', '#check'+new_player, function() {
            //console.log("cambia el checked desde save-new-player ");

            if ($(this).prop('checked')) {
                totaljugadoresencampo++;

            } else { totaljugadoresencampo--;}
            $('#jugjugando').text(totaljugadoresencampo);
        
        });
        $('#new-player-modal').hide();
        //getitem and setittem
        localStorage.setItem('nombresCronometros', JSON.stringify(nombresCronometros));
    });
    $('#close-new-player').click(function() {
        $('#new-player-modal').hide();
    });
    $('#tryCapitan').click(function() {
        $('#jugadoresSeleccionados').empty();
        //$('#suplentes').empty();
        for (var i = 0; i < equipotitular.length; i++) {
            var jugador = equipotitular[i];
            var option = `<option value="${jugador}">${jugador}</option>`;
            option = `<option value="${jugador}" selected>${jugador}</option>`;
            $('#jugadoresSeleccionados').append(option);
            
        }
        
        $('#capitan-modal').show();
    });
    $('#cancel-capitan').click(function() {
        $('#capitan-modal').hide();
    });
    $('#save-capitan').click(function() {
        $('#capitan-modal').hide();
        capitan=$('#jugadoresSeleccionados').val();
        localStorage.setItem("capitan", JSON.stringify(capitan));
        
    });


    $('#jugadores-en-juego').val();
    
    
    $( "#equipos" ).on( "change", function() {
        console.log($(this).val());
        equipoElegido=$(this).val();
        //Vaciar el div conometros
        $("#cronometros").empty();
        switch(equipoElegido) {
            case "BenjaminA":nombresCronometros=benjaminA;break;
            case "BenjaminB":nombresCronometros=benjaminB;break;
            case "Alevin":nombresCronometros=alevin;break;
        }
        reiniciarIntervalos();
        addeventchange();


        
    });
    addeventchange();
    function addeventchange() {
        $('.checkboxplayers').on('change', function() {
            var idjugador=$(this).attr("id");
            var arraynombre=idjugador.split("check");
            var nombre=arraynombre[1];
            console.log("linea 964 ");

            if ($(this).prop('checked')) {
                console.log('Checkbox marcado');
                equipotitular.push(nombre);
                totaljugadoresencampo++;
                if(totaljugadoresencampo>8){
                    $(this).prop('checked',false)
                        totaljugadoresencampo--;
                }
            } else {
                var playerdesmarcado=equipotitular.indexOf(nombre);
                console.log("A eliminar "+playerdesmarcado)
                if(playerdesmarcado!==-1){
                    equipotitular.splice(playerdesmarcado,1);
                }
                console.log('Checkbox desmarcado');
                    totaljugadoresencampo--;
            }
            console.log(equipotitular);
            $('#jugjugando').text(totaljugadoresencampo);
        
        }
    )};
    $('#showgrafics').click(function() {
        creargrafico();
    });
    function creargrafico() {
        console.log("Show graficos "+tiempos)
        jugadoresgrafico=[];
        tiemposgrafico=[]
        for (var jugador in tiempos) {
            console.log("Show graficos "+jugador+" "+ tiempos[jugador]);
            jugadoresgrafico.push(jugador);
            tiemposgrafico.push(tiempos[jugador]/60);
        }
        if(first){
            //console.log("es la primera volta")
            mostrargrafico(jugadoresgrafico,tiemposgrafico);
            first=false;
        }else{
            myBarChart.destroy();
            //console.log("ya no es la primera volta")
            mostrargrafico(jugadoresgrafico,tiemposgrafico);
        }
    }
    function mostrargrafico(jugadoresgrafico,tiemposgrafico){
    var ctx = document.getElementById('myBarChart').getContext('2d');
    // Datos de ejemplo: 12 datos para el gráfico de barras
    var data = {
        labels: jugadoresgrafico,
        datasets: [{
            label: 'Minutos jugados',
            data:  tiemposgrafico,// Datos de ejemplo para cada mes
            backgroundColor: [
              'rgba(255, 99, 132, 0.2)',
              'rgba(255, 159, 64, 0.2)',
              'rgba(255, 205, 86, 0.2)',
              'rgba(75, 192, 192, 0.2)',
              'rgba(54, 162, 235, 0.2)',
              'rgba(153, 102, 255, 0.2)',
              'rgba(201, 203, 207, 0.2)'
            ],
            borderColor: '#C70039', // Color del borde de las barras
            borderWidth: 1
        }]
    };
    // Configuración del gráfico
    var config = {
        type: 'bar', // Tipo de gráfico (en este caso, barras)
        data: data,
        options: {
            responsive: true, // El gráfico se ajustará al tamaño de su contenedor
            scales: {
                y: {
                    beginAtZero: true, // Asegura que el eje Y empiece desde cero
                    max:60,
                }
            },
            plugins: {
                legend: {
                    position: 'top', // Posición de la leyenda
                },
                tooltip: {
                    callbacks: {
                        // Personalización del tooltip
                        label: function(tooltipItem) {
                            return tooltipItem.raw + ' Minutos';
                        }
                    }
                }
            }
        }
    };
    // Crear el gráfico de barras
    myBarChart = new Chart(ctx, config);
    }
    //--------------------------------------------------------------------
      $('#guardar-excel2').click(function() {
        
        
        const Partido="CTO "+adversario;
        const resultadoCto = $("#resulCto").text();
        const resultadoAdv = $("#resulAdv").text();
        console.log(fechacompleta)
        console.log(Partido)
        console.log(equipotitular);
        var nombres=[];
        var tiempos=[];
        var data={};
        var cronometros=$('#cronometros .cronometro')
            for (var i = 0; i < cronometros.length;  i++) {
            var nombre=cronometros.get(i).id;
            var tiempo=$('#time'+cronometros.get(i).id).text();  
            data.push({Nombre: nombre, Tiempo: tiempo});
            data.push({ Nombre: nombre, Tiempo: tiempo })


                
            }    

        const ws= XLSX.utils.json_to_sheet(data);
        const wb= XLSX.utils.book_new();
        // Añadir la hoja de trabajo al libro de trabajo
        XLSX.utils.book_append_sheet(wb, ws, 'Partido '+adversario);
        const fileName = pdfParte+adversario+'.xlsx';
        XLSX.writeFile(wb, fileName);


      });
   $('#guardar-excel').click(function() {

    // 1. Obtener los datos de los cronómetros
    const nombres = [];
    const tiempos = [];
    let cronometros = document.querySelectorAll('#cronometros .cronometro');
    
    cronometros.forEach(function(cronometro) {
        let nombre = cronometro.querySelector('span[id^="name"]').textContent;
        let tiempo = cronometro.querySelector('span[id^="time"]').textContent;
        nombres.push(nombre);
        tiempos.push(tiempo);
    });

    // 2. Obtener los resultados de la tabla
    const resultadoCto = $("#resulCto").text();
    const resultadoAdv = $("#resulAdv").text();

    // 3. Recoger estadísticas
    const estadisticas = [];
    $('.sectionestadistica').each(function() {
        const leftValue = $(this).find('.numestadisticasleft').text();
        const rightValue = $(this).find('.numestadisticasright').text();
        const estadisticaLabel = $(this).find('span').text();
        estadisticas.push([estadisticaLabel, leftValue, rightValue]);
    });

    // 4. Crear la hoja de trabajo con los cronómetros
    //XLSX.utils.sheet_add_aoa(ws, [['Fecha',fechacompleta]], { origin: -1 });
        var Fecha=new Date();
        var dia=Fecha.getDate();
        var mes=Fecha.getMonth()+1;
        var year=Fecha.getFullYear();
        var fechacompleta=dia+"/"+mes+"/"+year;
     const ws =   XLSX.utils.aoa_to_sheet([['Fecha', fechacompleta]], { origin: 'A1' });
     XLSX.utils.sheet_add_aoa(ws,[['Nombre', 'Tiempo'], ...nombres.map((n, i) => [n, tiempos[i]])],{origin:'A2'});
     XLSX.utils.sheet_add_aoa(ws,[['Capitan', capitan]], { origin: -1 });
  


    // 5. Agregar resultados de la tabla de marcador
    const adversario = $('#id2 span').text();
    XLSX.utils.sheet_add_aoa(ws, [['Resultados'], ['CTO', adversario], [resultadoCto, resultadoAdv]], { origin: -1 });

    // 6. Agregar estadísticas
    XLSX.utils.sheet_add_aoa(ws, [['Estadísticas'], ['Descripción', 'Cto', adversario]], { origin: -1 });
    estadisticas.forEach(stat => {
        XLSX.utils.sheet_add_aoa(ws, [stat], { origin: -1 });
    });

    // 7. Agregar la tabla de marcador
    const tablaMarcador = [];
    $('#tablaMarcador tbody tr').each(function() {
        const row = [];
        $(this).find('td, th').each(function() {
            row.push($(this).text().trim());
        });
        if (row.length > 0) {
            tablaMarcador.push(row);
        }
    });

    // 8. Agregar la tabla al Excel
    XLSX.utils.sheet_add_aoa(ws, [['Tabla Marcador'], ...tablaMarcador], { origin: -1 });

    // 9. Ajustar las columnas
    const colWidths = [
        { wch: 20 }, // Nombre
        { wch: 10 }, // Tiempo
        { wch: 30 }, // Estadísticas
        { wch: 10 }, // Equipo 1
        { wch: 10 }  // Equipo 2
    ];
    ws['!cols'] = colWidths;

    // 10. Crear el libro de trabajo y exportar a Excel
    const wb = XLSX.utils.book_new();
    XLSX.utils.book_append_sheet(wb, ws, 'Cronómetros y Marcador');
    XLSX.writeFile(wb, pdfParte + adversario + ' .xlsx');

    // 11. Resetear variable
    pdfParte = "Total Partido ";
});

});       
     //-------------------------------------------------------------------------------------
      </script>
      <!--Fin Javascript-->
    </body>
</html>